<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Product</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="lib/codemirror.css" />
    <link rel="stylesheet" href="theme/monokai.css" />
    <link rel="stylesheet" href="addon/hint/show-hint.css" />
    <link rel="stylesheet" href="addon/lint/lint.css" />
    <link rel="stylesheet" href="css/practice.css" />
    <link rel="stylesheet" href="css/nav.css" type="text/css" />
    <script src="lib/codemirror.js"></script>
    <script src="mode/javascript/javascript.js"></script>
    <script src="https://unpkg.com/jshint@2.9.6/dist/jshint.js"></script>
    <script src="addon/lint/lint.js"></script>
    <script src="addon/lint/javascript-lint.js"></script>
    <script src="addon/selection/active-line.js"></script>
    <script src="addon/edit/closebrackets.js"></script>
    <script src="addon/edit/matchbrackets.js"></script>
    <script src="addon/hint/show-hint.js"></script>
    <script src="addon/hint/javascript-hint.js"></script>
  </head>
  <body>
    <nav>
      <div id="nav" class="nav">
        <ul>
          <li><a href="index.html" class="nav-a" draggable="false">Practice</a></li>
          <li><a href="leaderboard.html" class="nav-a" draggable="false">Leaderboard</a></li>
          <li id="profile" style="display: none"><a href="profile.html" class="nav-a" draggable="false">Profile</a></li>
          <li id="login"><a href="#" onclick="return logInGoogle();" class="nav-a" draggable="false">Login</a></li>
          <li id="logout" style="display: none">
            <a href="#" onclick="return logOutGoogle();" class="nav-a" draggable="false">Logout</a>
          </li>
          <li class="navname">
            <p class="name">Code Practice</p>
          </li>
        </ul>
      </div>
      <div class="navbar-cont">
        <div class="navbar-hamburger-menu">
          <span></span>
          <span></span>
          <span></span>
        </div>
        <div class="navbarname">
          <p class="name">Code Practice</p>
        </div>
      </div>
    </nav>
    <div class="code-cont">
      <textarea id="code" name="code">
//Return the product of the numbers a and b.
//Constraints:
//  a will not be null
//  b will not be null
//  -2147483647 <= a <= 2147483647
//  -2147483647 <= b <= 2147483647
function product(a, b) {
  return -1;
}</textarea
      >
      <div id="remember-code-cont" style="text-align: center"></div>
    </div>
    <div class="post-code-cont">
      <button id="run-tests">Run Tests</button>
      <div id="progress-wrap" class="progress-wrap" hidden>
        <div id="progress-cont" class="progress-cont">
          <div id="progress-bar" class="progress-bar"></div>
        </div>
        <span>Ran <span id="ran-tests">0</span> tests</span>
      </div>
      <div id="tests" class="tests-cont"></div>
    </div>
    <script type="text/javascript" src="js/jquery-3.5.1.min.js"></script>
    <script type="text/javascript" src="js/nav.js"></script>
    <script>
      var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
        lineNumbers: true,
        theme: "default",
        styleActiveLine: true,
        gutters: ["CodeMirror-lint-markers"],
        lint: true,
        autoCloseBrackets: true,
        matchBrackets: true,
        extraKeys: { "Ctrl-Space": "autocomplete" },
        mode: { name: "javascript", globalVars: false },
      });
      if (window.localStorage.getItem("product") != null) {
        $("#remember-code-cont").append(
          "<p " +
            "style='margin: 0; padding: 5px; border-bottom: 1px solid black; border-left: 1px solid black; border-right: 1px solid black;'>" +
            "Your previous code was restored. " +
            "<span id='reset-to-default' style='text-decoration: underline; " +
            "cursor: pointer;'>Reset code to default</span>" +
            "<img src='svg/x-icon.svg' width='16' height='16' class='fas fa-times' id='close-remember-code-cont' style='float: right; cursor: pointer;'></i></p>"
        );
        editor.setValue(window.localStorage.getItem("product"));
      }
      $("#close-remember-code-cont").click(function () {
        $("#remember-code-cont").hide();
      });
      $("#reset-to-default").click(function () {
        window.localStorage.removeItem("product");
        location.reload();
      });
      editor.on("change", function (cm, change) {
        window.localStorage.setItem("product", editor.getValue());
      });
    </script>
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-database.js"></script>
    <script src="js/app.js"></script>
    <script type="text/javascript" src="js/tester.js"></script>
    <script>
      const ref = {
        tests: [
          { func: "return product(1,2);", ans: 2 },
          { func: "return product(3,2);", ans: 6 },
          { func: "return product(0, 100);", ans: 0 },
          { func: "return product(16, -5);", ans: -80 },
          { func: "return product(-5, -3);", ans: 15 },
          { func: "return product(0, 0);", ans: 0 },
          { func: "return product(5, 5);", ans: 25 },
        ],
      };
      $("#run-tests").click(function () {
        runtests(ref, "product");
      });
    </script>
  </body>
</html>
